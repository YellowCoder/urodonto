<div class='patient__formWrapper'>
  <% if patient.errors.any? %>
    <div id="error_explanation">
      <h2>Lista de erros:</h2>
      <ul>
        <% patient.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= simple_form_for patient do |f| %>
    <fieldset>
      <%= f.input :name, error: false %>
      <%= f.input :fixed_price %>
      <div>
        <label>Data de Nascimento</label>
        <div class='patient__selects'>
          <%= f.input_field :birthday, as: :date, html5: true %>
        </div>
      </div>
      <div>
        <label>Sexo</label>
        <div class='patient__selects'>
          <%= f.select :sex, Patient.sexes.map { |key, value| [I18n.t("activerecord.attributes.patient.sexes.#{ key }"), key] } %>
        </div>
      </div>
    </fieldset>
    
    <fieldset>
      <%= f.input :email, as: :email, placeholder: 'email@exemplo.com' %>
      <%= f.input :phone %>
      <%= f.input :cell_phone %>
    </fieldset>

    <fieldset>
      <%= f.input :address %>
      <%= f.input :city %>
      <%= f.input :state %>
      <%= f.input :zip_code %>
    </fieldset>

    <fieldset>
      <div id='patient_prices'>
        <%= f.simple_fields_for :patient_prices do |patient_price| %>
          <%= render 'patient_price_fields', f: patient_price %>
        <% end %>
        <div class='patient__newPlot'>
          <%= link_to_add_association 'adicionar parcela', f, :patient_prices %>
        </div>
      </div>
    </fieldset>

    <%= f.button :submit %>

    <% unless patient.new_record?%>
      <button class="red">
        <%= link_to 'Delete', 
                    patient, 
                    method: :delete, 
                    data: { confirm: 'VocÃª tem certeza?' } %>
      </button>
    <% end %>
  <% end %>
</div>